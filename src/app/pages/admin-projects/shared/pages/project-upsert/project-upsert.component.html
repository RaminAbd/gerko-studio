<div class="wrapper">
  <app-upsert-heading
    [name]="'Projects'"
    [showSave]="true"
    (save)="save()"
  ></app-upsert-heading>

  <div class="content">
    <div class="row1">
      <div class="input-item file-input">
        <label>{{ "Image (900 × 455 px)" }}</label>
        <label
          class="file-label"
          for="file"
          [class.invalid]="!request.image.fileUrl && isSubmitted"
        >
          <p
            *ngIf="!request.image.fileUrl && !request.image.fileLoading"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="200"
              height="40"
              viewBox="0 0 200 40"
              fill="none"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M97.778 29H102.222C105.343 29 106.904 29 108.025 28.265C108.509 27.948 108.925 27.5389 109.251 27.061C110 25.961 110 24.428 110 21.364C110 18.299 110 16.767 109.251 15.667C108.925 15.1892 108.509 14.78 108.025 14.463C107.305 13.99 106.403 13.821 105.022 13.761C104.363 13.761 103.796 13.271 103.667 12.636C103.568 12.1709 103.312 11.7541 102.942 11.456C102.571 11.1579 102.109 10.9969 101.634 11H98.366C97.378 11 96.527 11.685 96.333 12.636C96.204 13.271 95.637 13.761 94.978 13.761C93.598 13.821 92.696 13.991 91.975 14.463C91.4916 14.7801 91.0754 15.1892 90.75 15.667C90 16.767 90 18.299 90 21.364C90 24.428 90 25.96 90.749 27.061C91.073 27.537 91.489 27.946 91.975 28.265C93.096 29 94.657 29 97.778 29ZM100 17.273C97.699 17.273 95.833 19.104 95.833 21.363C95.833 23.623 97.699 25.454 100 25.454C102.301 25.454 104.167 23.623 104.167 21.364C104.167 19.104 102.301 17.273 100 17.273ZM100 18.909C98.62 18.909 97.5 20.008 97.5 21.364C97.5 22.719 98.62 23.818 100 23.818C101.38 23.818 102.5 22.719 102.5 21.364C102.5 20.008 101.38 18.909 100 18.909ZM104.722 18.091C104.722 17.639 105.095 17.273 105.556 17.273H106.666C107.126 17.273 107.5 17.639 107.5 18.091C107.498 18.3099 107.409 18.5191 107.253 18.6724C107.097 18.8258 106.886 18.9109 106.667 18.909H105.556C105.448 18.9101 105.34 18.8898 105.239 18.8492C105.139 18.8087 105.047 18.7487 104.97 18.6728C104.892 18.5968 104.83 18.5064 104.788 18.4065C104.745 18.3067 104.723 18.1995 104.722 18.091Z"
                fill="#4B4B5A"
              />
            </svg>
          </p>
          <i
            *ngIf="request.image.fileLoading"
            class="pi pi-spin pi-spinner"
          ></i>
          <p
            *ngIf="request.image.fileUrl && !request.image.fileLoading"
          >
            {{ getFileName(request.image.fileName) }}
          </p>
        </label>
        <input
          id="file"
          type="file"
          [(ngModel)]="request.image.fakeFile"
          (change)="getFile($event)"
          multiple="false"
          accept="image/*"
        />
      </div>
      <div class="input-item" >
        <label for="type">{{ "Type" }}</label>
        <p-dropdown
          [style]="{ width: '100%', height: '40px' }"
          [options]="types"
          optionLabel="name"
          optionValue="id"
          [(ngModel)]="request.typeId"
          id="type"
        ></p-dropdown>
      </div>
      <div class="input-item" >
        <label for="status">{{ "Status" }}</label>
        <p-dropdown
          [style]="{ width: '100%', height: '40px' }"
          [options]="statuses"
          optionLabel="name"
          optionValue="id"
          [(ngModel)]="request.statusId"
          id="status"
        ></p-dropdown>
      </div>
      <div class="input-item" >
        <label>{{ "Address" | translate }}</label>
        <input
          type="text"
          [(ngModel)]="request.address"
          placeholder="{{ 'Address' | translate }}"
        />
      </div>
    </div>
    <div class="row1">
      <div class="input-item" >
        <label>{{ "Client" | translate }}</label>
        <input
          type="text"
          [(ngModel)]="request.client"
          placeholder="{{ 'Client' | translate }}"
        />
      </div>
      <div class="input-item" >
        <label>{{ "Size" | translate }}</label>
        <input
          type="text"
          [(ngModel)]="request.size"
          placeholder="{{ 'Size' | translate }}"
        />
      </div>
      <div class="input-item" >
        <label>{{ "Latitude" | translate }}</label>
        <input
          type="number"
          [(ngModel)]="request.latitude"
          placeholder="{{ 'Latitude' | translate }}"
        />
      </div>
      <div class="input-item" >
        <label>{{ "Longitude" | translate }}</label>
        <input
          type="number"
          [(ngModel)]="request.longitude"
          placeholder="{{ 'Longitude' | translate }}"
        />
      </div>
    </div>
    <div class="row1">
      <div class="remember input-item" style="flex-direction: row">
        <input type="checkbox" id="clientEnabled" [(ngModel)]="request.clientEnabled" />
        <label for="clientEnabled">{{ 'Show Client Info' | translate }}</label>
      </div>
      <div class="remember input-item" style="flex-direction: row">
        <input type="checkbox" id="sizeEnabled" [(ngModel)]="request.sizeEnabled" />
        <label for="sizeEnabled">{{ 'Show Size Info' | translate }}</label>
      </div>
      <div class="input-item"></div>
      <div class="input-item"></div>
    </div>
    <div class="row1">
      <div class="input-item file-input">
        <label>{{ "Secondary images" }} (1611 × 888 px)</label>
        <label class="file-label" for="file1">
          <p>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="200"
              height="40"
              viewBox="0 0 200 40"
              fill="none"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M97.778 29H102.222C105.343 29 106.904 29 108.025 28.265C108.509 27.948 108.925 27.5389 109.251 27.061C110 25.961 110 24.428 110 21.364C110 18.299 110 16.767 109.251 15.667C108.925 15.1892 108.509 14.78 108.025 14.463C107.305 13.99 106.403 13.821 105.022 13.761C104.363 13.761 103.796 13.271 103.667 12.636C103.568 12.1709 103.312 11.7541 102.942 11.456C102.571 11.1579 102.109 10.9969 101.634 11H98.366C97.378 11 96.527 11.685 96.333 12.636C96.204 13.271 95.637 13.761 94.978 13.761C93.598 13.821 92.696 13.991 91.975 14.463C91.4916 14.7801 91.0754 15.1892 90.75 15.667C90 16.767 90 18.299 90 21.364C90 24.428 90 25.96 90.749 27.061C91.073 27.537 91.489 27.946 91.975 28.265C93.096 29 94.657 29 97.778 29ZM100 17.273C97.699 17.273 95.833 19.104 95.833 21.363C95.833 23.623 97.699 25.454 100 25.454C102.301 25.454 104.167 23.623 104.167 21.364C104.167 19.104 102.301 17.273 100 17.273ZM100 18.909C98.62 18.909 97.5 20.008 97.5 21.364C97.5 22.719 98.62 23.818 100 23.818C101.38 23.818 102.5 22.719 102.5 21.364C102.5 20.008 101.38 18.909 100 18.909ZM104.722 18.091C104.722 17.639 105.095 17.273 105.556 17.273H106.666C107.126 17.273 107.5 17.639 107.5 18.091C107.498 18.3099 107.409 18.5191 107.253 18.6724C107.097 18.8258 106.886 18.9109 106.667 18.909H105.556C105.448 18.9101 105.34 18.8898 105.239 18.8492C105.139 18.8087 105.047 18.7487 104.97 18.6728C104.892 18.5968 104.83 18.5064 104.788 18.4065C104.745 18.3067 104.723 18.1995 104.722 18.091Z"
                fill="#4B4B5A"
              />
            </svg>
          </p>
          <i
            *ngIf="request.fakeFile.fileLoading"
            class="pi pi-spin pi-spinner"
          ></i>
        </label>
        <input
          id="file1"
          type="file"
          [(ngModel)]="request.fakeFile.fakeFile"
          (change)="getFiles($event)"
          multiple="false"
          accept="image/*"
        />
      </div>
    </div>
    <div class="row1">
      <div class="input-item" *ngFor="let item of request.name.items">
        <label>{{ "Title" | translate }} ( {{ item.languageName }} )</label>
        <input
          type="text"
          [ngClass]="{
            invalid:
              (!item.isValid && isSubmitted) || (!item.value && isSubmitted)
          }"
          [(ngModel)]="item.value"
          placeholder="{{ item.languageName | translate }}"
        />
      </div>
    </div>
    <div class="row1">
      <div class="input-item" *ngFor="let ed of request.description.items">
        <label>Description ( {{ ed.languageName }} ) </label>
        <app-custom-editor
          [value]="ed.value"
          (changedValue)="ed.value = $event"
        ></app-custom-editor>
      </div>
    </div>
    <div class="image-list">
      <div class="item" *ngFor="let item of request.images;let i = index;">
        <img class="main-image" [src]="item.fileUrl" alt="">
        <img src="delete.svg" alt="" (click)="removeImage(i)" class="remove">
      </div>
    </div>
  </div>
</div>
